import{a as y}from"./chunk-NKJLIICL.js";import{Ca as f,D as g,Ka as v,O as d,Ra as n,Sa as a,Tb as C,Va as w,Yb as H,bb as l,gb as S,hb as r,ia as p,jb as b,m as h,q as m,ua as u,ya as s}from"./chunk-P7PQJXX5.js";var I=()=>({name:"Name"}),F=()=>({name:"Gender"}),D=()=>({name:"Company"}),R=(o,M,i)=>[o,M,i],j=y,L=(()=>{class o{getResults(i,e){return h(j.slice(i,i+e)).pipe(g(new Date(Date.now()+1500)),m(t=>({data:t})))}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275prov=d({token:o,factory:o.\u0275fac})}}return o})(),T=(()=>{class o{constructor(i,e){this.serverResultsService=i,this.el=e,this.headerHeight=50,this.rowHeight=50,this.pageLimit=10,this.rows=[],this.ColumnMode=C}ngOnInit(){this.onScroll(0)}onScroll(i){let e=this.el.nativeElement.getBoundingClientRect().height-this.headerHeight;if(!this.isLoading&&i+e>=this.rows.length*this.rowHeight){let t=this.pageLimit;if(this.rows.length===0){let c=Math.ceil(e/this.rowHeight);t=Math.max(c,this.pageLimit)}this.loadPage(t)}}loadPage(i){this.isLoading=!0,this.serverResultsService.getResults(this.rows.length,i).subscribe(e=>{let t=[...this.rows,...e.data];this.rows=t,this.isLoading=!1})}static{this.\u0275fac=function(e){return new(e||o)(s(L),s(p))}}static{this.\u0275cmp=f({type:o,selectors:[["server-scrolling-demo"]],features:[S([L])],decls:7,vars:15,consts:[["href","https://github.com/siemens/ngx-datatable/blob/master/src/app/paging/scrolling-server.component.ts","target","_blank"],[1,"material","server-scrolling-demo",3,"scroll","rows","columns","columnMode","headerHeight","rowHeight","loadingIndicator","ghostLoadingIndicator","scrollbarV"]],template:function(e,t){e&1&&(n(0,"div")(1,"h3"),l(2," Server-side Scrolling "),n(3,"small")(4,"a",0),l(5," Source "),a()()(),n(6,"ngx-datatable",1),w("scroll",function(_){return t.onScroll(_.offsetY)}),a()()),e&2&&(u(6),v("rows",t.rows)("columns",b(11,R,r(8,I),r(9,F),r(10,D)))("columnMode",t.ColumnMode.force)("headerHeight",t.headerHeight)("rowHeight",t.rowHeight)("loadingIndicator",t.isLoading)("ghostLoadingIndicator",t.isLoading)("scrollbarV",!0))},dependencies:[H],styles:[".server-scrolling-demo[_ngcontent-%COMP%]{height:calc(100vh - 110px)}  .progress-linear{position:fixed!important;bottom:0}"]})}}return o})();export{L as MockServerResultsService,T as ServerScrollingComponent};
